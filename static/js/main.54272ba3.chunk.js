(this.webpackJsonptodo_app=this.webpackJsonptodo_app||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(8),s=c(3),i=c(4),o=c(0),l=Object(n.createContext)({id:"",text:"",dueTime:"",isCompleted:!1}),u=function(e,t){switch(t.type){case"Get":return function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t))}(e,t.payload);case"Create":return function(e,t){return[].concat(Object(i.a)(e),[t])}(e,t.payload);case"Update":return function(e,t){return[].concat(Object(i.a)(e.filter((function(e){return e.id!==t.id}))),[t])}(e,t.payload);case"Delete":return function(e,t){return e.filter((function(e){return e.id!==t.id}))}(e,t.payload);default:throw new Error("No such action defined")}},d=function(e){var t=Object(n.useReducer)(u,[]),c=Object(s.a)(t,2),a=c[0],r=c[1];return Object(o.jsx)(l.Provider,{value:{todos:a,dispatch:r},children:e.children})},b=l,j=c(5),m=function(e){var t=e.todo,c=Object(n.useContext)(b).dispatch,a=Object(n.useRef)(),r=function(){return c({type:"Update",payload:Object(j.a)(Object(j.a)({},t),{},{dueTime:"0",isCompleted:!0})})};return a.current=function(){var e=parseInt(t.dueTime),n=setInterval((function(){if(0===e)return r(),clearInterval(n);e-=1,c({type:"Update",payload:Object(j.a)(Object(j.a)({},t),{},{dueTime:e})})}),1e3)},Object(n.useEffect)((function(){a.current()}),[]),Object(o.jsxs)("li",{className:"list-group-item d-sm-flex flex-sm-row align-items-sm-center ".concat(t.isCompleted&&"list-group-item-danger"),children:[Object(o.jsxs)("div",{className:"d-flex flex-fill align-items-center mb-3 mb-sm-0",children:[Object(o.jsx)("h5",{className:"m-0 flex-fill",children:t.text}),Object(o.jsxs)("p",{className:"m-0 mx-md-5",children:[t.dueTime,"s ",Object(o.jsx)("i",{className:"bi bi-clock"})]})]}),Object(o.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(o.jsx)("button",{className:"btn m-2 bg-danger",onClick:function(){return c({type:"Delete",payload:t})},children:Object(o.jsx)("i",{className:"bi bi-trash text-white"})}),t.isCompleted?"":Object(o.jsx)("button",{className:"btn m-2 bg-primary",onClick:r,children:Object(o.jsx)("i",{className:"bi bi-check-circle text-white"})})]})]})},p=function(){var e=Object(n.useContext)(b),t=e.todos,c=e.dispatch;return Object(n.useEffect)((function(){null!==localStorage.getItem("todos")&&c({type:"Get",payload:JSON.parse(localStorage.getItem("todos"))})}),[]),Object(n.useEffect)((function(){t&&localStorage.setItem("todos",JSON.stringify(t))}),[t]),Object(o.jsx)("ul",{className:"list-group",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(o.jsx)(m,{todo:e},t)}))})},f=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(s.a)(r,2),l=i[0],u=i[1],d=Object(n.useContext)(b).dispatch;return Object(o.jsxs)("div",{className:"container py-5",children:[Object(o.jsx)("h1",{children:"Add Todo"}),Object(o.jsxs)("form",{className:"py-5 form-group",onSubmit:function(e){if(e.preventDefault(),""===c)return alert("Add Todo");d({type:"Create",payload:{id:"id"+c+l,text:c,dueTime:l,isCompleted:!1}}),a(""),u("")},children:[Object(o.jsxs)("label",{className:"mb-4 d-block",children:["Todo",Object(o.jsx)("input",{required:!0,type:"text",value:c,placeholder:"Create a PR",className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(o.jsxs)("label",{className:"mb-4 d-block",children:["Due Time in sec",Object(o.jsx)("input",{required:!0,type:"number",value:l,placeholder:"120",className:"form-control",onChange:function(e){return u(e.target.value)}})]}),Object(o.jsx)("button",{className:"btn btn-primary",variant:"primary",type:"submit",children:"Submit"})]}),Object(o.jsx)(p,{})]})};c(14),c(15),c(16);Object(r.render)(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(d,{children:Object(o.jsx)(f,{})})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.54272ba3.chunk.js.map